@using LMS.Web.Components.Layout
@using MudBlazor.StaticInput
@inherits LayoutComponentBase
@layout MainLayout
@inject Blazored.LocalStorage.ILocalStorageService LocalStorage

<MudLayout>
    <MudAppBar Elevation="1">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="ToggleDrawer" />
        <MudText Typo="Typo.h5" Class="ml-3">Application</MudText>
        <MudSpacer />
        <MudIconButton Icon="@Icons.Material.Filled.MoreVert" Color="Color.Inherit" Edge="Edge.End" />
    </MudAppBar>
    <MudPaper Style="height:calc(100vh - 64px); overflow:hidden; position:relative;">
        <MudDrawerContainer Class="mud-height-full">
            <MudDrawer @bind-Open="_drawerOpen" Fixed="false" Elevation="2" Variant="DrawerVariant.Mini" Breakpoint="Breakpoint.None">
                <MudNavMenu>
                    <MudNavLink Href="/admin/achievements" Icon="@Icons.Material.Filled.EmojiEvents" Title="Achievements">Achievements</MudNavLink>
                    <MudNavLink Href="/admin/assessments" Icon="@Icons.Material.Filled.Assignment" Title="Assessments">Assessments</MudNavLink>
                    <MudNavLink Href="/admin/categories" Icon="@Icons.Material.Filled.Category" Title="Categories">Categories</MudNavLink>
                    <MudNavLink Href="/admin/certificates" Icon="@Icons.Material.Filled.WorkspacePremium" Title="Certificates">Certificates</MudNavLink>
                    <MudNavLink Href="/admin/courses" Icon="@Icons.Material.Filled.Book" Title="Courses">Courses</MudNavLink>
                    <MudNavLink Href="/admin/enrollments" Icon="@Icons.Material.Filled.HowToReg" Title="Enrollments">Enrollments</MudNavLink>
                    <MudNavLink Href="/admin/forums" Icon="@Icons.Material.Filled.Forum" Title="Forums">Forums</MudNavLink>
                    <MudNavLink Href="/admin/lessons" Icon="@Icons.Material.Filled.School" Title="Lessons">Lessons</MudNavLink>
                    <MudNavLink Href="/admin/modules" Icon="@Icons.Material.Filled.Folder" Title="Modules">Modules</MudNavLink>
                    <MudNavLink Href="/admin/questions" Icon="@Icons.Material.Filled.QuestionAnswer" Title="Questions">Questions</MudNavLink>
                    <MudNavLink Href="/admin/tags" Icon="@Icons.Material.Filled.Tag" Title="Tags">Tags</MudNavLink>
                </MudNavMenu>
            </MudDrawer>
            <MudMainContent Class="mud-height-full p-4">
                @Body
            </MudMainContent>
        </MudDrawerContainer>
    </MudPaper>
</MudLayout>

@code{
    private bool _drawerOpen = false;
    private void ToggleDrawer() => _drawerOpen = !_drawerOpen;
}
